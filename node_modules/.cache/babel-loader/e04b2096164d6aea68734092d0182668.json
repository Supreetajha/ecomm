{"ast":null,"code":"import _toConsumableArray from\"C:/Users/supre/Docs/GitHub/ecomm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/supre/Docs/GitHub/ecomm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Image,Row,Col,ListGroup,Card,Button,Form}from\"react-bootstrap\";import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useEffect,useState}from\"react\";//My Components\nimport Rating from'../Components/Rating';import{listProductDetails}from'../Actions/productActions';import Message from'../Components/Message';import Loader from\"../Components/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Productscreen(_ref){var match=_ref.match,history=_ref.history;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match.params.id]);var handleAddToCart=function handleAddToCart(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-light my-3\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"strong\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\"),color:\"#f8e825\"})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsx(ListGroup.Item,{children:product.description})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"my-3 p-3\",children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price\"}),/*#__PURE__*/_jsxs(Col,{children:[\"\\u20B9\",product.price]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock?'In stock':'Out of Stock'})]})}),product.countInStock?/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"my-1\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}):null,/*#__PURE__*/_jsx(ListGroup.Item,{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Button,{className:\"my-3\",variant:\"dark\",onClick:handleAddToCart,type:\"button\",disabled:!product.countInStock,children:\"Add to Cart\"})})]})})})]})]})});}export default Productscreen;","map":{"version":3,"sources":["C:/Users/supre/Docs/GitHub/ecomm/src/Screens/Productscreen.js"],"names":["Image","Row","Col","ListGroup","Card","Button","Form","Link","useDispatch","useSelector","useEffect","useState","Rating","listProductDetails","Message","Loader","Productscreen","match","history","dispatch","qty","setQty","productDetails","state","product","loading","error","params","id","handleAddToCart","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import { Image,Row,Col,ListGroup,Card,Button,Form } from \"react-bootstrap\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { useEffect,useState } from \"react\";\r\n//My Components\r\nimport Rating from '../Components/Rating'\r\nimport {listProductDetails} from '../Actions/productActions'\r\nimport Message from '../Components/Message'\r\nimport Loader from \"../Components/Loader\";\r\n\r\n\r\nfunction Productscreen({match,history}) {\r\n \r\n const dispatch = useDispatch()\r\n const [qty,setQty] = useState(1)\r\n const productDetails = useSelector(state => state.productDetails);\r\n const {product,loading,error} = productDetails\r\n\r\n useEffect(()=>{\r\n    dispatch(listProductDetails(match.params.id))\r\n },[dispatch,match.params.id])\r\n\r\n const handleAddToCart = ()=> {\r\n    history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n }\r\n\r\n return(\r\n     <div>\r\n        {loading? <Loader />\r\n                : error? <Message variant=\"danger\">{error}</Message>    \r\n                : <>\r\n                    <Link to=\"/\" className = \"btn btn-light my-3\">Go Back</Link>\r\n                        <Row>\r\n                        <Col md={6}>\r\n                        <Image src={product.image} alt ={product.name} fluid/>\r\n                        </Col>\r\n                \r\n                        <Col md={3}>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item>\r\n                            <strong>{product.name}</strong>\r\n                        </ListGroup.Item>\r\n\r\n                        <ListGroup.Item>\r\n                            <Rating value={product.rating} text = {`${product.numReviews} reviews`} color='#f8e825'/>\r\n                        </ListGroup.Item>\r\n\r\n                        <ListGroup.Item>\r\n                            &#8377;{product.price}\r\n                        </ListGroup.Item>\r\n\r\n                        <ListGroup.Item>\r\n                            {product.description}\r\n                        </ListGroup.Item>\r\n                    </ListGroup>\r\n                </Col>\r\n\r\n                        <Col md={3}>\r\n                    <Card className=\"my-3 p-3\">\r\n                        <ListGroup variant = \"flush\">\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Price</Col>\r\n                                    <Col>\r\n                                        &#8377;{product.price}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Status</Col>\r\n                                    <Col>\r\n                                        {product.countInStock? 'In stock': 'Out of Stock'}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n                            {product.countInStock\r\n                             ?(<ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Qty</Col>\r\n                                    <Col xs='auto' className='my-1'>\r\n                                        \r\n                                        <Form.Control \r\n                                            as=\"select\"    \r\n                                            value={qty}\r\n                                            onChange={(e) => setQty(e.target.value)}>\r\n                                                {[...Array(product.countInStock).keys()].map((x) => (\r\n                                                    <option key={x + 1} value={x + 1}>\r\n                                                        {x + 1}\r\n                                                    </option>\r\n                                                ))}                                          \r\n                                        </Form.Control>\r\n                                       \r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>):null}\r\n\r\n                            <ListGroup.Item className=\"d-grid gap-2\">\r\n                                <Button className=\"my-3\" variant = \"dark\" onClick = {handleAddToCart}\r\n                                type=\"button\" disabled={!product.countInStock}>\r\n                                Add to Cart\r\n                                </Button>\r\n                            </ListGroup.Item>\r\n                        </ListGroup>\r\n                        \r\n                    </Card>\r\n                </Col>\r\n                        </Row>\r\n                    </>\r\n\r\n    } \r\n        \r\n\r\n\r\n     </div>\r\n )\r\n}\r\n\r\nexport default Productscreen"]},"metadata":{},"sourceType":"module"}