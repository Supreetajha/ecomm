{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/supre/Docs/GitHub/ecomm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/supre/Docs/GitHub/ecomm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';//constants\nimport{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD}from'../Constants/cartConstants';export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$axios$get,data,item;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/products/\".concat(id,\"/\"));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;item={product:data._id,name:data.name,image:data.image,price:data.price,countInStock:data.countInStock,qty:qty};dispatch({type:CART_ADD_ITEM,payload:item});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:CART_REMOVE_ITEM,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingAddress=function saveShippingAddress(shippingAddress){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:shippingAddress});localStorage.setItem('shippingAddress',JSON.stringify(shippingAddress));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}();};export var savePaymentMethod=function savePaymentMethod(paymentMethod){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:paymentMethod});localStorage.setItem('paymentMethod',JSON.stringify(paymentMethod));case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/supre/Docs/GitHub/ecomm/src/Actions/cartActions.js"],"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addToCart","id","qty","dispatch","getState","get","data","item","product","_id","name","image","price","countInStock","type","payload","console","log","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","saveShippingAddress","shippingAddress","savePaymentMethod","paymentMethod"],"mappings":"2SAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAGA;AACA,OACIC,aADJ,CAEIC,gBAFJ,CAIIC,0BAJJ,CAKIC,wBALJ,KAMO,4BANP,CAQA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAIC,GAAJ,iGAAY,iBAAMC,QAAN,CAAeC,QAAf,uLAERT,CAAAA,KAAK,CAACU,GAAN,yBAA2BJ,EAA3B,MAFQ,uCAEtBK,IAFsB,kBAEtBA,IAFsB,CAGvBC,IAHuB,CAGf,CACGC,OAAO,CAAGF,IAAI,CAACG,GADlB,CAEGC,IAAI,CAAEJ,IAAI,CAACI,IAFd,CAGGC,KAAK,CAAEL,IAAI,CAACK,KAHf,CAIGC,KAAK,CAAEN,IAAI,CAACM,KAJf,CAKGC,YAAY,CAAEP,IAAI,CAACO,YALtB,CAMGX,GAAG,CAAHA,GANH,CAHe,CAW7BC,QAAQ,CAAC,CAACW,IAAI,CAAElB,aAAP,CAAsBmB,OAAO,CAACR,IAA9B,CAAD,CAAR,CAX6B,+EAe7BS,OAAO,CAACC,GAAR,cAf6B,QAiBjCC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAejB,QAAQ,GAAGkB,IAAX,CAAgBC,SAA/B,CAAlC,EAjBiC,oEAAZ,oEAAlB,CAoBP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACvB,EAAD,kGAAQ,kBAAME,QAAN,CAAeC,QAAf,sHAE9BD,QAAQ,CAAC,CAACW,IAAI,CAAEjB,gBAAP,CAAyBkB,OAAO,CAACd,EAAjC,CAAD,CAAR,CACJiB,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAejB,QAAQ,GAAGkB,IAAX,CAAgBC,SAA/B,CAAlC,EAHkC,wDAAR,sEAAvB,CAMP,MAAO,IAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,eAAD,kGAAqB,kBAAMvB,QAAN,sHAEpDA,QAAQ,CAAC,CAACW,IAAI,CAAEhB,0BAAP,CAAmCiB,OAAO,CAACW,eAA3C,CAAD,CAAR,CACJR,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwCC,IAAI,CAACC,SAAL,CAAeK,eAAf,CAAxC,EAHwD,wDAArB,kEAA5B,CAMP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,aAAD,kGAAmB,kBAAMzB,QAAN,sHAEhDA,QAAQ,CAAC,CAACW,IAAI,CAAEf,wBAAP,CAAiCgB,OAAO,CAACa,aAAzC,CAAD,CAAR,CACJV,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCC,IAAI,CAACC,SAAL,CAAeO,aAAf,CAAtC,EAHoD,wDAAnB,kEAA1B","sourcesContent":["import axios from 'axios'\r\n\r\n\r\n//constants\r\nimport {\r\n    CART_ADD_ITEM,\r\n    CART_REMOVE_ITEM,\r\n\r\n    CART_SAVE_SHIPPING_ADDRESS,\r\n    CART_SAVE_PAYMENT_METHOD,\r\n} from '../Constants/cartConstants'\r\n\r\nexport const addToCart = (id,qty) => async(dispatch,getState) => {\r\n    try{\r\n        const {data} = await axios.get(`/api/products/${id}/`)\r\n        const item  = {\r\n                         product : data._id,\r\n                         name: data.name,\r\n                         image: data.image,\r\n                         price: data.price,\r\n                         countInStock: data.countInStock,\r\n                         qty\r\n                        }\r\n        dispatch({type: CART_ADD_ITEM, payload:item})\r\n\r\n\r\n    }catch(error){\r\n        console.log(error)\r\n    }\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart = (id) => async(dispatch,getState) => {\r\n   \r\n        dispatch({type: CART_REMOVE_ITEM, payload:id})\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const saveShippingAddress = (shippingAddress) => async(dispatch) => {\r\n   \r\n    dispatch({type: CART_SAVE_SHIPPING_ADDRESS, payload:shippingAddress})\r\nlocalStorage.setItem('shippingAddress', JSON.stringify(shippingAddress))\r\n}\r\n\r\nexport const savePaymentMethod = (paymentMethod) => async(dispatch) => {\r\n   \r\n    dispatch({type: CART_SAVE_PAYMENT_METHOD, payload:paymentMethod})\r\nlocalStorage.setItem('paymentMethod', JSON.stringify(paymentMethod))\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}