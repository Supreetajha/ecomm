{"ast":null,"code":"import _slicedToArray from\"C:/Users/supre/Docs/GitHub/ecomm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{Link}from'react-router-dom';//My components\nimport FormContainer from'../Components/FormContainer';import{login}from'../Actions/userActions';import Loader from'../Components/Loader';import Message from'../Components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Loginscreen(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var loading=userLogin.loading,error=userLogin.error,userInfo=userLogin.userInfo;var redirect=location.search?location.search.split('=')[1]:'/';useEffect(function(){if(userInfo){history.push(\"/\".concat(redirect));}},[userInfo,history,redirect]);var handleLogin=function handleLogin(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsxs(FormContainer,{children:[loading&&/*#__PURE__*/_jsx(Loader,{}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign-In\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Please enter a valid email id\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:handleLogin,children:\"Submit\"}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"New Customer? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})})]})]});}export default Loginscreen;","map":{"version":3,"sources":["C:/Users/supre/Docs/GitHub/ecomm/src/Screens/Loginscreen.js"],"names":["useState","useEffect","useDispatch","useSelector","Form","Button","Row","Col","Link","FormContainer","login","Loader","Message","Loginscreen","location","history","email","setEmail","password","setPassword","dispatch","userLogin","state","loading","error","userInfo","redirect","search","split","push","handleLogin","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import {useState,useEffect} from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport { Link } from 'react-router-dom'\r\n//My components\r\nimport FormContainer from '../Components/FormContainer'\r\nimport {login} from '../Actions/userActions'\r\n\r\nimport Loader from '../Components/Loader'\r\nimport Message from '../Components/Message'\r\nfunction Loginscreen({location,history}) {\r\n    const [email,setEmail] = useState()\r\n    const [password,setPassword] = useState()\r\n    const dispatch = useDispatch()\r\n    \r\n    const userLogin = useSelector(state=>state.userLogin)\r\n    const {loading,error,userInfo} = userLogin\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(()=>{\r\n        if(userInfo){\r\n            history.push(`/${redirect}`)\r\n        }\r\n    },[userInfo,history,redirect])\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault()\r\n        dispatch(login(email,password))\r\n    }\r\n    return(\r\n        <FormContainer>\r\n            {loading && <Loader />}\r\n            {error && <Message variant =\"danger\">{error}</Message>}\r\n            <Form onSubmit = {handleLogin}>\r\n                <h2>Sign-In</h2>  \r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control \r\n                    type=\"email\" \r\n                    placeholder=\"Enter email\"\r\n                    value = {email}\r\n                    onChange = {(e) => setEmail(e.target.value)} />\r\n                    <Form.Text className=\"text-muted\">\r\n                        Please enter a valid email id \r\n                    </Form.Text>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control \r\n                    type=\"password\" \r\n                    placeholder=\"Password\"\r\n                    value = {password}\r\n                    onChange = {(e) => setPassword(e.target.value)}  />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" \r\n                type=\"submit\" onClick= {handleLogin}>\r\n                    Submit\r\n                </Button>\r\n\r\n                <Row className='py-3'>\r\n                <Col>\r\n                    New Customer? <Link\r\n                        to=\"/register\">\r\n                        Register\r\n                        </Link>\r\n                </Col>\r\n            </Row>\r\n            </Form>\r\n            </FormContainer>\r\n        )\r\n}\r\n\r\nexport default Loginscreen"]},"metadata":{},"sourceType":"module"}